{"version":3,"sources":["utils/utils.js","components/Linewriter.js","components/Typewriter.js","components/Topbar.js","views/App.js","index.js"],"names":["ALLOWED_TAGS","getFormattedLine","line","formattedLine","i","length","tag","regex","RegExp","concat","matches","match","start","mid","end","react","rel","target","href","color","Linewriter","timeoutId","undefined","linePrefix","state","charIndex","nextLetter","_this$state","_this","_this$props","props","handleFinish","prefix","prefixedLine","setState","prevState","Object","objectSpread","_this2","this","speed","setInterval","prevProps","_this3","_this$props2","clearInterval","_this$props3","cursor","outputLine","replace","removeTags","className","substr","React","Typewriter","speedDivider","finished","sectionIndex","lineIndex","writtenLines","sections","lines","toConsumableArray","handleTouchEnd","e","handleKeyPress","key","document","addEventListener","_this$state2","section","map","writtenLine","Date","getTime","components_Linewriter","Math","floor","Topbar","_ref","_ref$title","title","showLogo","logoUrl","aria-label","viewBox","aria-hidden","d","fill","App","react_default","a","createElement","components_Topbar","components_Typewriter","filter","minScreenWidth","window","innerWidth","maxScreenWidth","ReactDOM","render","views_App","getElementById"],"mappings":"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","file":"static/js/main.0df0fb4f.chunk.js","sourcesContent":["import * as React from 'react'\n\nconst ALLOWED_TAGS = [\n  'bold',\n  'email',\n  'green',\n  'blue',\n  'italic',\n  'underscore',\n  'url',\n]\n\nconst hasTags = line => {\n  for (let i = 0; i < ALLOWED_TAGS.length; i++) {\n    const tag = ALLOWED_TAGS[i]\n    const regex = new RegExp(`^(.*)(\\\\[${tag}\\\\])(.*)(\\\\[/${tag}\\\\])(.*)$`)\n    const matches = line.match(regex)\n    if (matches && matches.length === 6) {\n      return true\n    }\n  }\n  return false\n}\n\nconst getFormattedLine = line => {\n  let formattedLine = line\n  for (let i = 0; i < ALLOWED_TAGS.length; i++) {\n    const tag = ALLOWED_TAGS[i]\n    const regex = new RegExp(`^(.*)(\\\\[${tag}\\\\])(.*)(\\\\[/${tag}\\\\])(.*)$`)\n    const matches = line.match(regex)\n    if (matches && matches.length === 6) {\n      const start = getFormattedLine(matches[1])\n      const mid = getFormattedLine(matches[3])\n      const end = getFormattedLine(matches[5])\n\n      if (tag === 'bold') {\n        formattedLine = (\n          <React.Fragment>\n            {start}\n            <strong>{mid}</strong>\n            {end}\n          </React.Fragment>\n        )\n      } else if (tag === 'url') {\n        formattedLine = (\n          <React.Fragment>\n            {start}\n            <a rel=\"noopener noreferrer\" target=\"_blank\" href={matches[3]}>\n              {mid}\n            </a>\n            {end}\n          </React.Fragment>\n        )\n      } else if (tag === 'email') {\n        formattedLine = (\n          <React.Fragment>\n            {start}\n            <a\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n              href={`mailto:${matches[3]}`}\n            >\n              {mid}\n            </a>\n            {end}\n          </React.Fragment>\n        )\n      } else if (tag === 'italic') {\n        formattedLine = (\n          <React.Fragment>\n            {start}\n            <i>{mid}</i>\n            {end}\n          </React.Fragment>\n        )\n      } else if (tag === 'underscore') {\n        formattedLine = (\n          <React.Fragment>\n            {start}\n            <u>{mid}</u>\n            {end}\n          </React.Fragment>\n        )\n      } else if (tag === 'green') {\n        formattedLine = (\n          <React.Fragment>\n            {start}\n            <font color=\"#20C20E\">{mid}</font>\n            {end}\n          </React.Fragment>\n        )\n      } else if (tag === 'blue') {\n        formattedLine = (\n          <React.Fragment>\n            {start}\n            <font color=\"#3399ff\">{mid}</font>\n            {end}\n          </React.Fragment>\n        )\n      }\n    }\n  }\n  return formattedLine\n}\n\nconst removeTags = line => {\n  let formattedLine = line\n  for (let i = 0; i < ALLOWED_TAGS.length; i++) {\n    const tag = ALLOWED_TAGS[i]\n    const regex = new RegExp(`\\\\[/?${tag}\\\\]`, 'gi')\n    formattedLine = formattedLine.replace(regex, '')\n  }\n  return formattedLine\n}\n\nconst getElementKey = prefix => `${prefix}_${new Date().getTime()}`\n\nexport { getElementKey, getFormattedLine, hasTags, removeTags }\n","import * as React from 'react'\nimport { getFormattedLine, removeTags } from '../utils/utils'\n\nclass Linewriter extends React.Component {\n  timeoutId = undefined\n\n  linePrefix = getFormattedLine(\n    '[green][bold]➜[/bold][/green] [blue][bold]~[/bold][/blue] '\n  )\n\n  state = {\n    charIndex: 0,\n  }\n\n  componentDidMount() {\n    const { speed } = this.props\n    this.timeoutId = setInterval(() => this.nextLetter(), speed)\n  }\n\n  componentDidUpdate(prevProps) {\n    const { handleFinish, line, speed } = this.props\n    if (speed === 0) {\n      handleFinish(getFormattedLine(line))\n    } else if (speed !== prevProps.speed) {\n      clearInterval(this.timeoutId)\n      this.timeoutId = setInterval(() => this.nextLetter(), speed)\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timeoutId)\n  }\n\n  nextLetter = () => {\n    const { charIndex, formattedLine } = this.state\n    const { line, handleFinish, prefix } = this.props\n    const prefixedLine = `${prefix ? '> ' : ''}${line}`\n\n    if (!line.length) {\n      handleFinish(getFormattedLine(prefixedLine))\n    } else if (charIndex < line.length - 1) {\n      this.setState(prevState => ({\n        charIndex: prevState.charIndex + 1,\n        ...{\n          ...(charIndex === 0 && {\n            formattedLine: prefix ? (\n              <React.Fragment>\n                {this.linePrefix}\n                {getFormattedLine(line)}\n              </React.Fragment>\n            ) : (\n              getFormattedLine(line)\n            ),\n          }),\n        },\n      }))\n    } else {\n      this.setState({\n        charIndex: 0,\n        formattedLine: undefined,\n      })\n      handleFinish(formattedLine)\n    }\n  }\n\n  render() {\n    const { charIndex } = this.state\n    const { cursor, line, prefix } = this.props\n    const outputLine = removeTags(line)\n    // const outputLine = line\n    return (\n      <div className=\"terminal__line\">\n        {prefix && this.linePrefix}\n        {`${outputLine.substr(0, charIndex)}`}\n        {cursor && <span className=\"cursor\">&nbsp;</span>}\n      </div>\n    )\n  }\n}\n\nexport default Linewriter\n","import * as React from 'react'\nimport { getElementKey } from '../utils/utils'\nimport Linewriter from './Linewriter'\n\nclass Typewriter extends React.Component {\n  timeoutId = undefined\n\n  prefix = '> '\n\n  speedDivider = 1\n\n  state = {\n    finished: false,\n    sectionIndex: 0,\n    lineIndex: 0,\n    writtenLines: [],\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.handleKeyPress, false)\n    document.addEventListener('touchend', this.handleTouchEnd, false)\n  }\n\n  handleFinish = line => {\n    const { lineIndex, sectionIndex } = this.state\n    const { sections } = this.props\n    const { lines } = sections[sectionIndex]\n    if (lineIndex < lines.length - 1) {\n      this.setState(prevState => ({\n        writtenLines: [...prevState.writtenLines, line],\n        lineIndex: prevState.lineIndex + 1,\n      }))\n    } else if (sectionIndex < sections.length - 1) {\n      this.setState(prevState => ({\n        writtenLines: [...prevState.writtenLines, line],\n        lineIndex: 0,\n        sectionIndex: prevState.sectionIndex + 1,\n      }))\n    } else if (\n      sectionIndex === sections.length - 1 &&\n      lineIndex === lines.length - 1\n    ) {\n      this.setState(prevState => ({\n        finished: true,\n        writtenLines: [...prevState.writtenLines, line],\n      }))\n    }\n  }\n\n  handleTouchEnd = e => {\n    if (this.speedDivider > 0.0625) {\n      this.speedDivider = this.speedDivider * 0.5\n    }\n  }\n\n  handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      if (this.speedDivider > 0.0625) {\n        this.speedDivider = this.speedDivider * 0.5\n      }\n    }\n  }\n\n  render() {\n    const { sections } = this.props\n    const { finished, lineIndex, sectionIndex, writtenLines } = this.state\n    const section = sections[sectionIndex]\n    const { lines, speed } = section\n    const line = lines[lineIndex]\n    const prefix = 'prefix' in section && section.prefix\n\n    return (\n      <div className=\"terminal\">\n        {writtenLines.map((writtenLine, i) => (\n          <div\n            key={getElementKey(`${writtenLine}_${i}`)}\n            className=\"terminal__line\"\n          >\n            {writtenLine}\n          </div>\n        ))}\n        {!finished && (\n          <Linewriter\n            cursor={!('cursor' in section) || section.cursor}\n            handleFinish={this.handleFinish}\n            line={line}\n            speed={speed > 0 ? Math.floor(this.speedDivider * speed) : speed}\n            prefix={prefix}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nexport default Typewriter\n","import * as React from 'react'\n\nconst Topbar = ({ title = 'ekern.me', showLogo, logoUrl }) => (\n  <div className=\"topbar\">\n    <div className=\"topbar__title\">{title}</div>\n    {showLogo &&\n      logoUrl && (\n        <div className=\"topbar__logo\">\n          <a href={logoUrl} aria-label=\"View source on GitHub\">\n            <svg\n              className=\"topbar__logo__svg\"\n              viewBox=\"0 0 250 250\"\n              aria-hidden=\"true\"\n            >\n              <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\" />\n              <path\n                d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\"\n                fill=\"currentColor\"\n              />\n              <path\n                d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\"\n                fill=\"currentColor\"\n              />\n            </svg>\n          </a>\n        </div>\n      )}\n  </div>\n)\n\nexport default Topbar\n","import React from 'react'\nimport sections from '../assets/json/sections.json'\nimport Typewriter from '../components/Typewriter'\nimport Topbar from '../components/Topbar'\n\nconst App = () => (\n  <div className=\"app\">\n    <Topbar\n      title=\"ekern.me\"\n      showLogo\n      logoUrl=\"https://github.com/stekern/cmdkern\"\n    />\n    <Typewriter\n      sections={sections.filter(\n        section =>\n          (!('minScreenWidth' in section) ||\n            section.minScreenWidth <= window.innerWidth) &&\n          (!('maxScreenWidth' in section) ||\n            section.maxScreenWidth >= window.innerWidth)\n      )}\n    />\n  </div>\n)\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './views/App'\nimport './assets/css/index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}